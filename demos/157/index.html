<html>
<head>
	<title>SQ online demo</title>		
	<style>
		body,td { font-family:helvetica; font-size:12px; background-color:#000000; color:#FFFFFF; overflow:hidden }
	</style>

	<script language="javascript">
//(c)2001 by Q42, this program is developed by Q42, please admire and get inspired but do not copy. Visit us at www.q42.nl.

function bs(){}bs.prototype={constructor:function(){this.bi(this.data.bt);},bi:function(bt){this.data.bt=bt;this[bt]();engine.cs(this.id);engine.cr(this.id);this.bj(this.data.x,this.data.y,this.data.bd);},bj:function(x,y,bd){this.data.walking=false;this.data.bd=bd;this.data.x=x;this.data.y=y;this.data.destX=x;this.data.destY=y;this.bk();this.bl[this.data.bd]=(this.bl[this.data.bd]<this.bm[this.data.bd]-1)? this.bl[this.data.bd]+1:0;},bk:function(x,y){var ba=this.data.bd+this.bl[this.data.bd];this.bn('actor','left',(this.data.x+world.location.cq('layer0','left')-this.bo[ba].left)+'px');this.bn('actor','top',(this.data.y+world.location.cq('layer0','top')-this.data.height-this.bo[ba].top)+'px');if(!this.bo[ba].clipText)this.bo[ba].clipText="rect("+(this.bo[ba].top)+" "+(this.bo[ba].right)+" "+(this.bo[ba].bottom)+" "+(this.bo[ba].left)+")";this.bn('actor','clip',this.bo[ba].clipText);this.bn('actor','zIndex',this.data.y-1);},br:function(x,y){this.data.destX=x;this.data.destY=y;if(!this.data.walking)this.bp();},bp:function(){var bb=this.data.destX-this.data.x;var bc=this.data.destY-this.data.y;if(bc!=0){var bd=(bc>0)? 'down':'up';var be=this.bq[bd][this.bl[bd]];var bf=world.location.bK(this.data.x,this.data.y+be,this);if(bf)this.data.bd=bd;}if(bb!=0){var bd=(bb>0)? 'right':'left';var bg=this.bq[bd][this.bl[bd]];var bh=world.location.bK(this.data.x+bg,this.data.y,this);if(bh)this.data.bd=bd;}this.data.x+=bh? bg:0;this.data.y+=bf? be:0;this.bk();this.data.walking=true;if(!bh&&!bf){this.data.destY=this.data.y;this.data.destX=this.data.x;this.data.walking=false;return;}if(((bb>0)&&(this.data.x>this.data.destX))||((bb<0)&&(this.data.x<this.data.destX)))this.data.destX=this.data.x;if(((bc>0)&&(this.data.y>this.data.destY))||((bc<0)&&(this.data.y<this.data.destY)))this.data.destY=this.data.y;this.bl[this.data.bd]=(this.bl[this.data.bd]<this.bm[this.data.bd]-1)? this.bl[this.data.bd]+1:0;setTimeout('engine.ck["'+this.id+'"].bp();',world.data.bU);}};bs.prototype.rogerWhite=function(bu){if(!bu){this.html=""+"<img bT='actor' src='img/roger.gif' style='z-index:1;position:absolute;width:152px;height:66px' />";}this.data.height=33;this.data.width=14;this.bl={left:0,right:0,up:0,down:0};this.bm={left:8,right:8,up:6,down:6};this.bq={left:[-4,-2,-3,-2,-2,-0,-4,-0],right:[4,0,0,4,4,0,1,4],up:[-1,-1,-1,-1,-1,-1,-1,-1],down:[1,1,1,1,1,1,1,1]};this.bo={};this.bo.right0={left:00,top:00,right:10,bottom:33};this.bo.right1={left:10,top:00,right:22,bottom:33};this.bo.right2={left:22,top:00,right:36,bottom:33};this.bo.right3={left:36,top:00,right:48,bottom:33};this.bo.right4={left:48,top:00,right:58,bottom:33};this.bo.right5={left:58,top:00,right:68,bottom:33};this.bo.right6={left:68,top:00,right:82,bottom:33};this.bo.right7={left:82,top:00,right:92,bottom:33};this.bo.left0={left:00,top:33,right:10,bottom:66};this.bo.left1={left:10,top:33,right:22,bottom:66};this.bo.left2={left:22,top:33,right:36,bottom:66};this.bo.left3={left:36,top:33,right:48,bottom:66};this.bo.left4={left:48,top:33,right:58,bottom:66};this.bo.left5={left:58,top:33,right:68,bottom:66};this.bo.left6={left:68,top:33,right:82,bottom:66};this.bo.left7={left:82,top:33,right:92,bottom:66};this.bo.down0={left:92,top:00,right:102,bottom:33};this.bo.down1={left:102,top:00,right:112,bottom:33};this.bo.down2={left:112,top:00,right:122,bottom:33};this.bo.down3={left:122,top:00,right:132,bottom:33};this.bo.down4={left:132,top:00,right:142,bottom:33};this.bo.down5={left:142,top:00,right:152,bottom:33};this.bo.up0={left:92,top:33,right:102,bottom:66};this.bo.up1={left:102,top:33,right:112,bottom:66};this.bo.up2={left:112,top:33,right:122,bottom:66};this.bo.up3={left:122,top:33,right:132,bottom:66};this.bo.up4={left:132,top:33,right:142,bottom:66};this.bo.up5={left:142,top:33,right:152,bottom:66};};bs.prototype.rogerRed=function(bu){if(!bu){this.html=""+"<img bT='actor' src='img/roger2.gif' style='z-index:1;position:absolute;width:152px;height:66px' />";}this.rogerWhite(true);};function bx(data){this.html=data.html;};bx.prototype={constructor:function(){this.data.animating=false;this.data.cellnumber=0;this.bk();},bw:function(bw){this.data.bW=this.data.bV[bw].bW;if(this.data.animating)return;if(this.data.bl==this.data.bW[this.data.bW.length-1])return;this.data.cellnumber=0;this.bv(bw);},bv:function(bw){this.data.cellnumber++;if(this.data.cellnumber>=this.data.bW.length){this.data.animating=false;return;}this.data.animating=true;this.data.bl=this.data.bW[this.data.cellnumber];this.bk();setTimeout('engine.ck["'+this.id+'"].bv("'+bw+'");',this.data.bU);},bk:function(){this.bn(this.data.bT,'left',(this.data.x-this.data.bo[this.data.bl].left)+'px');this.bn(this.data.bT,'top',(this.data.y-this.data.bo[this.data.bl].top)+'px');if(!this.data.bo[this.data.bl].clipText)this.data.bo[this.data.bl].clipText="rect("+(this.data.bo[this.data.bl].top)+" "+(this.data.bo[this.data.bl].right)+" "+(this.data.bo[this.data.bl].bottom)+" "+(this.data.bo[this.data.bl].left)+")";this.bn(this.data.bT,'clip',this.data.bo[this.data.bl].clipText);}};function Location(){};Location.prototype={constructor:function(){this.bC(this.data.location);},bC:function(location,data){this.bD=new Array;if(!this.bE)this.bE={};else for(animation in this.bE)engine.cA(this.bE[animation]);this.data.location=location;this["location"+location]();engine.cs(this.id);engine.cr(this.id);if((world.bZ)&&(data))world.bZ.bj(this.bF[data.bj].x,this.bF[data.bj].y,this.bF[data.bj].bd);},bK:function(x,y,bL){var by=[x,x+bL.data.width,y];var bz=new Array;for(var i=0;i<=1;i++){bz[i]=this.bG(by[i],by[2]);if(!bz[i])return false;if(!bz[i].bO)return this.bH(bz[i]);}if(this.bI(by[0],by[1],by[2],bL))return false;if(bz[0]!=bz[1])this.bH(bz[0]);return this.bH(bz[1]);},bH:function(bB){if(bB.bP)eval(bB.bP);return bB.bO;},bI:function(bM,xRight,bN,bL){for(var id in engine.cl["bs"]){if(bL.id==id)continue;var bA=engine.ck[id];if((xRight<bA.data.x)||(bM>bA.data.x+bA.data.width)||(bN<bA.data.y-1)||(bN>bA.data.y+1))continue;return true;}return false;},bG:function(x,y){for(var i=0;i<this.bD.length;i++){var bB=this.bD[i];if((x<bB.left)||(x>bB.right)||(y<bB.top)||(y>bB.bottom))continue;if(isNaN(bB.bQ))return bB;if(this.bJ(x,y,bB))return bB;}return false;},bJ:function(x,y,bB){var m=bB.bQ;if(!bB.a){if((m==0)||(m==2)){bB.a=(bB.top-bB.bottom)/(bB.right-bB.left);bB.b=bB.top-(bB.a*bB.right);}else{bB.a=(bB.bottom-bB.top)/(bB.right-bB.left);bB.b=bB.top-(bB.a*bB.left);}}ty=bB.a*x+bB.b;if((m<=1)&&(y>=ty))return true;if((m>=2)&&(y<=ty))return true;return false;}};Location.prototype.location1=function(){this.html=""+"<img bT='layer0' src='img/bg01.gif' style='z-index:0;position:absolute;width:320px;height:152px;top:10px;left:0px' />"+"<img bT='layer1' src='img/bg01_01.gif' style='z-index:66;position:absolute;width:8px;height:73px;top:10px;left:0px' />"+"<img bT='layer2' src='img/bg01_02.gif' style='z-index:200;position:absolute;width:32px;height:14px;top:92px;left:44px' />";this.bD[this.bD.length]={bO:true,left:50,top:128,right:74,bottom:130,bP:'world.location.bE.door.bw("close");'};this.bD[this.bD.length]={bO:true,left:50,top:131,right:74,bottom:136,bP:'world.location.bE.door.bw("open");'};this.bD[this.bD.length]={bO:true,left:50,top:137,right:74,bottom:140,bP:'world.location.bE.door.bw("close");'};this.bD[this.bD.length]={bO:true,left:190,top:45,right:213,bottom:46,bP:'world.location.bE.closet.bw("close");'};this.bD[this.bD.length]={bO:true,left:190,top:47,right:213,bottom:49,bP:'world.location.bE.closet.bw("open");'};this.bD[this.bD.length]={bO:true,left:190,top:50,right:213,bottom:51,bP:'world.location.bE.closet.bw("close");'};this.bD[this.bD.length]={bO:true,left:190,top:45,right:213,bottom:50};this.bD[this.bD.length]={bO:true,left:24,top:50,right:320,bottom:73};this.bD[this.bD.length]={bO:true,left:0,top:50,right:24,bottom:73,bQ:0};this.bD[this.bD.length]={bO:true,left:0,top:56,right:24,bottom:66};this.bD[this.bD.length]={bO:false,left:34,top:131,right:50,bottom:138};this.bD[this.bD.length]={bO:false,left:74,top:131,right:88,bottom:138};this.bD[this.bD.length]={bO:true,left:50,top:127,right:74,bottom:152};this.bD[this.bD.length]={bO:true,left:0,top:131,right:320,bottom:152};this.bD[this.bD.length]={bO:false,left:-20,top:49,right:0,bottom:66,bP:'world.location.bC(2,{bj:"right"})'};this.bD[this.bD.length]={bO:false,left:320,top:49,right:340,bottom:73,bP:'world.location.bC(3,{bj:"bottom"})'};this.bF={left:{x:2,y:60,bd:'right'},top:{x:192,y:51,bd:'down'},right:{x:300,y:60,bd:'left'},bottom:{x:160,y:50,bd:'up'},bR:{x:196,y:45,bd:'down'},bS:{x:300,y:142,bd:'left'}};this.bE.door=engine.cz("bx",{html:"<img bT='door' src='img/bg01_door.gif' style='z-index:134;position:absolute;width:140px;height:39px;' />",bT:"door",bl:0,x:46,y:105,bU:50,bV:{'open':{bW:[0,1,2,3,4]},'close':{bW:[4,3,2,1,0]}},bo:{0:{left:00,top:00,right:28,bottom:39},1:{left:30,top:00,right:58,bottom:39},2:{left:60,top:00,right:88,bottom:39},3:{left:90,top:00,right:118,bottom:39},4:{left:120,top:00,right:148,bottom:39}}});this.bE.closet=engine.cz("bx",{html:"<img bT='closet' src='img/bg01_closet.gif' style='z-index:49;position:absolute;width:96px;height:38px;' />",bT:"closet",bl:0,x:188,y:20,bU:50,bV:{'open':{bW:[0,1,2,3]},'close':{bW:[3,2,1,0]}},bo:{0:{left:00,top:00,right:24,bottom:39},1:{left:24,top:00,right:48,bottom:39},2:{left:48,top:00,right:72,bottom:39},3:{left:72,top:00,right:96,bottom:39}}});};Location.prototype.location2=function(){this.html=""+"<img bT='layer0' src='img/bg02.gif' style='z-index:0;position:absolute;width:266px;height:134px;top:10px;left:27px' />"+"<img bT='layer1' src='img/bg02_01.gif' style='z-index:200;position:absolute;width:266px;height:134px;top:10px;left:27px' />"+"<img bT='layer2' src='img/bg02_02.gif' style='z-index:110;position:absolute;width:118px;height:32px;top:96px;left:53px;' />";this.bD[this.bD.length]={bO:false,left:265,top:84,right:320,bottom:89,bP:'world.location.bC(1,{bj:"left"})'};this.bD[this.bD.length]={bO:false,left:0,top:84,right:2,bottom:89,bP:'world.location.bC(1,{bj:"bS"})'};this.bD[this.bD.length]={bO:false,left:32,top:104,right:142,bottom:119};this.bD[this.bD.length]={bO:false,left:122,top:74,right:168,bottom:82};this.bD[this.bD.length]={bO:true,left:32,top:75,right:228,bottom:132};this.bD[this.bD.length]={bO:true,left:200,top:84,right:265,bottom:88};this.bD[this.bD.length]={bO:true,left:0,top:86,right:44,bottom:90};this.bD[this.bD.length]={bO:true,left:14,top:86,right:252,bottom:134};this.bF={left:{x:8,y:86,bd:'right'},top:{x:160,y:86,bd:'down'},right:{x:246,y:86,bd:'left'},bottom:{x:160,y:110,bd:'up'}};};Location.prototype.location3=function(){this.html=""+"<img bT='layer0' src='img/bg03.gif' style='z-index:0;position:absolute;width:320px;height:168px;top:0px;left:0px' />"+"<img bT='layer1' src='img/bg03_01.gif' style='z-index:250;position:absolute;width:320px;height:20px;top:148px;left:0px' />"+"<img bT='layer2' src='img/bg03_02.gif' style='z-index:126;position:absolute;width:68px;height:20px;top:106px;left:126px' />"+"<img bT='layer2' src='img/bg03_03.gif' style='z-index:250;position:absolute;width:68px;height:19px;top:49px;left:128px' />";this.bD[this.bD.length]={bO:false,left:230,top:169,right:244,bottom:200,bP:'world.location.bC(1,{bj:"right"})'};this.bD[this.bD.length]={bO:false,left:128,top:114,right:194,bottom:127};this.bD[this.bD.length]={bO:true,left:0,top:129,right:320,bottom:168};this.bD[this.bD.length]={bO:true,left:82,top:94,right:246,bottom:129};this.bD[this.bD.length]={bO:true,left:112,top:89,right:214,bottom:98};this.bD[this.bD.length]={bO:true,left:18,top:98,right:82,bottom:129,bQ:0};this.bD[this.bD.length]={bO:true,left:246,top:98,right:308,bottom:129,bQ:1};this.bF={bottom:{x:236,y:168,bd:'up'}};};function ca(){this.html=""+ "<img src='img/q42logo.gif' bT='q42' style='z-index:999; position:absolute; visibility:visible; width:35px; height:50px; left:0px; top:0px;' />"+ "<div bT='screen' id='screen' style='zoom:2; position:absolute; left:40px; top:40px; height:200px; width:320px; background-color:#000000; color:#FFFFFF; overflow:hidden' />";};ca.prototype={constructor:function() {engine.cm = this.bY.screen;},b_:function() {	this.location = engine.cz("Location", { location:1 });	var bX = 'bR';this.bZ = engine.cz("bs", { bt:'rogerWhite', x:this.location.bF[bX].x, y:this.location.bF[bX].y, bd:this.location.bF[bX].bd });	world.bZ.br(world.bZ.data.x, 60);document.body.attachEvent("onclick", this.onClick);	document.body.attachEvent("ondragstart", this.onClick);	document.body.attachEvent("ondragend", this.onClick);	document.body.attachEvent("onkeyup", this.onKeyup);},onClick:function() {var x = Math.ceil((event.x - world.cq('screen', 'left')) / world.cq('screen', 'zoom')) - world.location.cq('layer0', 'left');var y = Math.ceil((event.y - world.cq('screen', 'top')) / world.cq('screen', 'zoom')) - world.location.cq('layer0', 'top');world.bZ.br(x, y);},onKeyup:function() {	var bL = world.bZ;switch(event.keyCode) {case 37: bL.data.bd = 'left';if ((bL.data.destY == bL.data.y) && (bL.data.destX < bL.data.x)) bL.br(bL.data.x, bL.data.y);else bL.br(-10, bL.data.y);break;case 39:bL.data.bd = 'right';if ((bL.data.destY == bL.data.y) && (bL.data.destX > bL.data.x)) bL.br(bL.data.x, bL.data.y);else bL.br(world.cq('screen', 'width') + 10, bL.data.y);break;case 38:bL.data.bd = 'up';if ((bL.data.destX == bL.data.x) && (bL.data.destY < bL.data.y)) bL.br(bL.data.x, bL.data.y);else bL.br(bL.data.x, -10);break;case 40:bL.data.bd = 'down';if ((bL.data.destX == bL.data.x) && (bL.data.destY > bL.data.y)) bL.br(bL.data.x, bL.data.y);else bL.br(bL.data.x, world.cq('screen', 'height') + 10);break;case 35: bL.data.bd = 'left';if ((bL.data.destY > bL.data.y) && (bL.data.destX < bL.data.x)) bL.br(bL.data.x, bL.data.y);else bL.br(-10, bL.data.y + Math.ceil(((bL.data.x - -10) / world.cq('screen', 'width')) * world.cq('screen', 'height')));break;case 34: bL.data.bd = 'right';if ((bL.data.destY > bL.data.y) && (bL.data.destX > bL.data.x)) bL.br(bL.data.x, bL.data.y);else bL.br(world.cq('screen', 'width') + 10, bL.data.y + Math.ceil(((world.cq('screen', 'width') + 10 - bL.data.x) / world.cq('screen', 'width')) * world.cq('screen', 'height')));break;case 36:bL.data.bd = 'left';if ((bL.data.destY < bL.data.y) && (bL.data.destX < bL.data.x)) bL.br(bL.data.x, bL.data.y);else bL.br(-10, bL.data.y - Math.ceil(((bL.data.x - -10) / world.cq('screen', 'width')) * world.cq('screen', 'height')));break;case 33:bL.data.bd = 'right';if ((bL.data.destY < bL.data.y) && (bL.data.destX > bL.data.x)) bL.br(bL.data.x, bL.data.y);else bL.br(world.cq('screen', 'width') + 10, bL.data.y - Math.ceil(((world.cq('screen', 'width') + 10 - bL.data.x) / world.cq('screen', 'width')) * world.cq('screen', 'height')));			break;	};}};function cc(cD){return((cD!=null)&&(typeof(cD)=="object")&&cD.constructor&&(cD.constructor==Array));};function cd(cD){return((cD!=null)&&(typeof(cD)=="object")&&cD.constructor&&(cD.constructor==Object));};function cb(o){try{var s="";if(o===null)return "<null>";switch(typeof(o)){case "string":s+="'"+o+"'";break;case "number":case "boolean":s+=o;break;case "object":if(o.parentNode){s+="<native object>";}else{s+=(cd(o)?"{":"[");for(var p in o)s+=(cd(o)?(p+":"):"")+cb(o[p])+",";if(s.length>2)s=s.substring(0,s.length-1);s+=(cd(o)?"}":"]");}break;case "function":var fs=""+o;s+="<"+fs.substring(0,fs.indexOf("{")-1)+">";s+="{"+fs.substring(0,32)+"...}";break;case "undefined":s+="<undefined>";break;default:alert("unknown type:'"+typeof(o)+"' for "+o);}return s;}catch(e){alert("error in cb:"+e.message);}};function cB(){this.ck={};this.cl={};this.cm=document.body;this.cn=0;};cB.prototype={cu:function(){this.co=new ICCClient('sq',1000);this.co.connect('co/');},cv:function(){this.co.cv("create",{cw:this,cx:"cy"},false,null,{});this.co.cv("destroy",{cw:this,cx:"cy"},false,null,{});},cy:function(cC){alert(cb(cC));},cp:function(){return "id"+"_"+this.cn++;},cz:function(type,data){var ce=window[type];var cf=new ce(data);cf.id=this.cp();cf.type=type;cf.data=data;if(!this.cl[type])this.cl[type]={};this.ck[cf.id]=cf;this.cl[type][cf.id]=cf;cf.rootElements=new Array;cf.cq=this.cq;cf.bn=this.bn;if(cf.html)this.cr(cf.id);if(cf.constructor)cf.constructor();return cf;},cA:function(cw){this.cs(cw.id);delete cw;},cr:function(id){var cf=this.ck[id];cf.bY={};var cg=document.createElement("div");cg.innerHTML=cf.html;var ch=cg.childNodes.length;for(var i=0;i<ch;i++){var ci=cg.childNodes[0];this.ct(cf,ci);cf.rootElements[i]=ci;this.cm.appendChild(ci);}cg=null;},cs:function(id){var cf=this.ck[id];for(var i=0;i<cf.rootElements.length;i++){var ci=cf.rootElements[i];ci.parentNode.removeChild(ci);}cf.rootElements=new Array;},ct:function(cf,ci){if(ci.getAttribute){var cj=ci.getAttribute("bT");if(cj){ci.object=cf;cf.bY[cj]=ci;}}if(ci.childNodes){for(var i=0;i<ci.childNodes.length;i++)engine.ct(cf,ci.childNodes[i]);}},cq:function(bT,attribute){return(this.bY[bT].style[attribute]+'').replace(/[^\d\-]/gi,'')*1;},bn:function(bT,attribute,cD){this.bY[bT].style[attribute]=cD;}};function start(){window.engine=new cB();window.world=engine.cz('ca',{bU:50});world.b_();};
	</script>
</head>

<body onload="start();">
</body>

</html>