@import "0_variables.styl"

@media screen and (min-width 941px)
  #header
    animation fadeInHeader 0.6s cubic-bezier(0.770, 0.000, 0.175, 1.000)
    animationFillMode both
    li
      animation fadeInUpward 0.6s cubic-bezier(0.770, 0.000, 0.175, 1.000)
      animationFillMode both

    for i in (1..6)
      li:nth-child({i})
        animationDelay 0.04s * i

  #logo
    animationFillMode both
    animation fadeInUpward 1s cubic-bezier(0.770, 0.000, 0.175, 1.000)

  .container
    .block-large, .block-full, .block-text, header, img
      animationFillMode both
      animation fadeInUpward 0.6s cubic-bezier(0.4, 0, 0.2, 1)

    aside.subcontent.block-small
      -webkit-transform-origin top
      animationFillMode both
      animation scaleDown 0.6s cubic-bezier(0.4, 0, 0.2, 1)

    // for i in (1..20)
    //   section:nth-child({i}), *:nth-child({i})
    //     animationDelay 1s * i

  @-webkit-keyframes fadeInUpward
    from
      transform translateY(100px)
      opacity 0

  @-webkit-keyframes fadeInHeader 
    from
      transform translateY(-100px)
      opacity 0

  @-webkit-keyframes scaleDown
    from
      transform scaleY(0.1)
      opacity 0



body, #loading
  background #eee

#page
  background transparent

#header
  nav ul li
    font-size .9em
    font-weight 500

.container
  .block-large, .block-full, .block-text
    border-bottom none
  .block-large
    background #fff
    padding 32px
    margin 0 0 16px 0
    box-shadow 0 1px 1px rgba(0,0,0,.18)
    border-radius 3px
    &.block-no-padding-after
      margin-bottom 0
      border-bottom solid 2px #eee
      border-bottom-left-radius 0
      border-bottom-right-radius 0
      & + .block-large
        border-top-left-radius 0
        border-top-right-radius 0
    &.blog:first-child
      margin-top 64px

  .visual
    width 100%
    img, video, iframe
      width 100%
      height auto

  section h2, .block-large > .body h2
    font-size 1.5em

  .block-large > .body
    margin -32px 32px -32px -32px
    padding 32px
    background aliceblue
    & + .visual
      margin -32px
      height 100%

  .block-large.right > .body
    margin-right -32px
    margin-left 32px

  aside.subcontent
    background #0E8FF5
    color white
    padding 32px
    margin-top -64px
    box-shadow 0 2px 2px rgba(0,0,0,.18)
    -webkit-font-smoothing antialiased

    a
      color white
      opacity .7

    ul
      list-style-position inside
      margin 0
      padding 0

    h2
      margin 1.5em 0
      font-size 24px
      &:first-child
        margin-top 0

@media (max-width 940px)

  .block-large
    flexDirection column

  .container
    
    .block-small
      &:first-child
        margin-right 0
      &:not(:first-child)
        margin-top 32px

    .block-large
      .intro
        margin-right 0
        width inherit

    .block-large.blog
      flexWrap inherit
      flexDirection column

    .blog .blog-posts, .blog .blog-post
      margin-right 0
      max-width 100%

    .block-large > .block-small:first-child:nth-last-child(2), .block-large > .block-small:first-child:nth-last-child(2) ~ div
      max-width inherit

    aside.subcontent
      margin 32px -32px -32px -32px

    .block-large > .body + .visual
      margin 64px 0 0 0

    .block-large.right .body
      order inherit
      margin-left -32px

    .block-large > .body
      margin-right -32px

  #footer
    .visual
      width 100%


@media (max-width 620px)

  .block-small
    min-width inherit

  .container aside.subcontent
    margin-top inherit
    width inherit

@media (max-width 480px)

  .container .block-large.blog:first-child
    margin-top 32px

  .block-small > ul, #blog-sidebar ul
    padding-left 0

  .container .block-large .body
    width 100%










